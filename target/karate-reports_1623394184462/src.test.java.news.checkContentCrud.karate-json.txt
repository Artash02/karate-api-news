{"failedCount":1,"prefixedPath":"src\/test\/java\/news\/checkContentCrud.feature","packageQualifiedName":"src.test.java.news.checkContentCrud","loopIndex":-1,"relativePath":"src\/test\/java\/news\/checkContentCrud.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2923034,"millis":2.923034,"status":"passed"},"step":{"background":true,"line":5,"prefix":"Given","index":0,"text":"def currentTimeStamp = function() { return java.lang.System.currentTimeMillis() + '' }"},"stepLog":"11:10:02.590 << lock released, cached callSingle: classpath:helper\/get-access-token.feature\n","callResults":[{"prefixedPath":"classpath:helper\/get-access-token.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-06-07 11:10:32 AM","durationMillis":798.916523,"callArg":{"password":"w1nPorta2","email":"zeus@winesports.com"},"failedCount":0,"packageQualifiedName":"helper.get-access-token","relativePath":"helper\/get-access-token.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":6931416,"millis":6.931416,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"def auth_url = function() { return java.lang.System.getenv('API_AUTH_HOST') + '' }"},"stepLog":"11:10:01.734 >> lock acquired, begin callSingle: classpath:helper\/get-access-token.feature\n"},{"result":{"nanos":9144472,"millis":9.144472,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"print 'AUTH      ' + auth_url()"},"stepLog":"11:10:01.780 [print] AUTH      https:\/\/api-admins.priotix.xyz \n"},{"result":{"nanos":537899,"millis":0.537899,"status":"passed"},"step":{"line":7,"prefix":"Given","index":2,"text":"url 'https:\/\/api-admins.priotix.xyz' + '\/auth\/login?rememberMe=true'"}},{"result":{"nanos":2737505,"millis":2.737505,"status":"passed"},"step":{"line":8,"prefix":"And","index":3,"text":"request __arg"}},{"result":{"nanos":775661085,"millis":775.661085,"status":"passed"},"step":{"line":9,"prefix":"When","index":4,"text":"method post"},"stepLog":"11:10:02.078 request:\n1 > POST https:\/\/api-admins.priotix.xyz\/auth\/login?rememberMe=true\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 54\n1 > Host: api-admins.priotix.xyz\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"w1nPorta2\",\"email\":\"zeus@winesports.com\"}\n\n11:10:02.556 response time in milliseconds: 469\n1 < 200\n1 < Server: nginx\n1 < Date: Mon, 07 Jun 2021 07:10:02 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Vary: Accept-Encoding\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Methods: GET, POST, DELETE, PUT\n1 < Access-Control-Allow-Headers: Origin, Accept, X-Requested-With, Content-Type, Authorization\n1 < X-Response-Time: 87ms\n1 < Strict-Transport-Security: max-age=63072000; includeSubdomains; preload\n1 < X-Frame-Options: SAMEORIGIN\n1 < X-Content-Type-Options: nosniff\n1 < X-Xss-Protection: 1; mode=block\n{\"permissions\":[{\"p\":\"add-group\",\"r\":[]},{\"p\":\"add-user-group\",\"r\":[]},{\"p\":\"get-permission-set\",\"r\":[]},{\"p\":\"get-permission-sets\",\"r\":[]},{\"p\":\"get-groups\",\"r\":[]},{\"p\":\"get-group\",\"r\":[]},{\"p\":\"get-user-group\",\"r\":[]},{\"p\":\"edit-permission-set\",\"r\":[]},{\"p\":\"edit-group\",\"r\":[]},{\"p\":\"edit-user-group\",\"r\":[]},{\"p\":\"remove-permission-set\",\"r\":[]},{\"p\":\"remove-group\",\"r\":[]},{\"p\":\"remove-user-group\",\"r\":[]},{\"p\":\"get-permissions\",\"r\":[]},{\"p\":\"add-permission\",\"r\":[]},{\"p\":\"add-permission-set\",\"r\":[]},{\"p\":\"get-permission\",\"r\":[]},{\"p\":\"edit-permission\",\"r\":[]},{\"p\":\"remove-permission\",\"r\":[]},{\"p\":\"add-user-permission-set\",\"r\":[]},{\"p\":\"remove-user-permission-set\",\"r\":[]},{\"p\":\"delete-permission-sets\",\"r\":[]},{\"p\":\"get-resources\",\"r\":[]},{\"p\":\"get-resource\",\"r\":[]},{\"p\":\"get-resource-seo\",\"r\":[]},{\"p\":\"edit-resource\",\"r\":[]},{\"p\":\"edit-resource-seo\",\"r\":[]},{\"p\":\"get-page-seo\",\"r\":[]},{\"p\":\"upload-image\",\"r\":[]},{\"p\":\"remove-image\",\"r\":[]},{\"p\":\"search-abios-resource\",\"r\":[]},{\"p\":\"sync-resource\",\"r\":[]},{\"p\":\"add-page\",\"r\":[]},{\"p\":\"get-pages\",\"r\":[]},{\"p\":\"get-page\",\"r\":[]},{\"p\":\"remove-page\",\"r\":[]},{\"p\":\"edit-page\",\"r\":[]},{\"p\":\"edit-page-seo\",\"r\":[]},{\"p\":\"get-products\",\"r\":[]},{\"p\":\"get-page-meta\",\"r\":[]},{\"p\":\"edit-page-meta\",\"r\":[]},{\"p\":\"get-page-tags\",\"r\":[]},{\"p\":\"get-page-seo\",\"r\":[]},{\"p\":\"add-customer\",\"r\":[]},{\"p\":\"get-customers\",\"r\":[]},{\"p\":\"get-customer\",\"r\":[]},{\"p\":\"edit-customer\",\"r\":[]},{\"p\":\"edit-user\",\"r\":[]},{\"p\":\"remove-user\",\"r\":[]},{\"p\":\"get-users\",\"r\":[]},{\"p\":\"get-user\",\"r\":[]},{\"p\":\"add-user\",\"r\":[]},{\"p\":\"get-user-policies\",\"r\":[]},{\"p\":\"edit-user-policies\",\"r\":[]},{\"p\":\"get-descendant-groups\",\"r\":[]},{\"p\":\"add-tag\",\"r\":[]},{\"p\":\"edit-tag\",\"r\":[]},{\"p\":\"delete-tag\",\"r\":[]},{\"p\":\"get-tag\",\"r\":[]},{\"p\":\"get-tags\",\"r\":[]},{\"p\":\"add-tag-group\",\"r\":[]},{\"p\":\"get-tag-groups\",\"r\":[]},{\"p\":\"get-tag-group\",\"r\":[]},{\"p\":\"edit-tag-group\",\"r\":[]},{\"p\":\"delete-tag-group\",\"r\":[]},{\"p\":\"get-products\",\"r\":[]},{\"p\":\"get-product\",\"r\":[]},{\"p\":\"add-product\",\"r\":[]},{\"p\":\"edit-product\",\"r\":[]},{\"p\":\"remove-product\",\"r\":[]},{\"p\":\"get-app-config\",\"r\":[]},{\"p\":\"edit-app-config\",\"r\":[]},{\"p\":\"get-articles\",\"r\":[]},{\"p\":\"get-article\",\"r\":[]},{\"p\":\"create-article\",\"r\":[]},{\"p\":\"edit-article\",\"r\":[]},{\"p\":\"publish-article\",\"r\":[]},{\"p\":\"get-products\",\"r\":[]},{\"p\":\"get-tweet\",\"r\":[]},{\"p\":\"remove-article\",\"r\":[]},{\"p\":\"get-article-authors\",\"r\":[]},{\"p\":\"upload-image\",\"r\":[]},{\"p\":\"remove-image\",\"r\":[]},{\"p\":\"get-article-layout\",\"r\":[]},{\"p\":\"edit-article-layout\",\"r\":[]},{\"p\":\"add-article-layout\",\"r\":[]},{\"p\":\"remove-article-layout\",\"r\":[]},{\"p\":\"add-bookmaker\",\"r\":[]},{\"p\":\"get-bookmaker\",\"r\":[]},{\"p\":\"get-bookmakers\",\"r\":[]},{\"p\":\"delete-bookmaker\",\"r\":[]},{\"p\":\"edit-bookmaker\",\"r\":[]}],\"accessToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnZW5lcmFsIiwidXNlciI6eyJlbWFpbCI6InpldXNAd2luZXNwb3J0cy5jb20iLCJjcmVhdGVkIjoiMjAyMC0wOS0wM1QwODoxNDo0Mi4zMjhaIiwidXBkYXRlZCI6IjIwMjAtMDQtMDJUMTQ6MTk6MjYuNTk3WiIsImNsaWVudElkIjoic3hLU3RPdzB1RnJDb2ZJdlVXTXgifSwiY29udGV4dCI6eyJ1c2VySWQiOiI1ZTU5MmExZWM5Y2VkOTFmOGQ0ZGM2ZTMifSwiaWF0IjoxNjIzMDQ5ODAyLCJleHAiOjE2MjMwNTA0MDJ9.KQTxNa0lhAoI5MP30HlbkCXBiFV97meAYtUZUi2vpBo\",\"refreshToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsb25nTGl2ZWQiOnRydWUsInVzZXIiOnsiZW1haWwiOiJ6ZXVzQHdpbmVzcG9ydHMuY29tIiwiY3JlYXRlZCI6IjIwMjAtMDktMDNUMDg6MTQ6NDIuMzI4WiIsInVwZGF0ZWQiOiIyMDIwLTA0LTAyVDE0OjE5OjI2LjU5N1oiLCJjbGllbnRJZCI6InN4S1N0T3cwdUZyQ29mSXZVV014In0sImlhdCI6MTYyMzA0OTgwMiwiZXhwIjoxNjI0MjU5NDAyfQ.5ADYCJrCjMikIvCc9V3l3d8T5YKsjvtT1shOw5QFdz8\"}\n"},{"result":{"nanos":42931,"millis":0.042931,"status":"passed"},"step":{"line":10,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":1593098,"millis":1.593098,"status":"passed"},"step":{"line":11,"prefix":"And","index":6,"text":"def token = response.accessToken"}},{"result":{"nanos":2268117,"millis":2.268117,"status":"passed"},"step":{"line":12,"prefix":"*","index":7,"text":"print token"},"stepLog":"11:10:02.565 [print] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnZW5lcmFsIiwidXNlciI6eyJlbWFpbCI6InpldXNAd2luZXNwb3J0cy5jb20iLCJjcmVhdGVkIjoiMjAyMC0wOS0wM1QwODoxNDo0Mi4zMjhaIiwidXBkYXRlZCI6IjIwMjAtMDQtMDJUMTQ6MTk6MjYuNTk3WiIsImNsaWVudElkIjoic3hLU3RPdzB1RnJDb2ZJdlVXTXgifSwiY29udGV4dCI6eyJ1c2VySWQiOiI1ZTU5MmExZWM5Y2VkOTFmOGQ0ZGM2ZTMifSwiaWF0IjoxNjIzMDQ5ODAyLCJleHAiOjE2MjMwNTA0MDJ9.KQTxNa0lhAoI5MP30HlbkCXBiFV97meAYtUZUi2vpBo \n"}],"executorName":"main","line":3,"name":"Get Access token","description":"","durationMillis":798.916523,"startTime":1623049801755,"failed":false,"refId":"[1:3]","endTime":1623049802565,"exampleIndex":-1}],"name":"Get Access token","passedCount":1}]},{"result":{"nanos":2848242,"millis":2.848242,"status":"passed"},"step":{"endLine":13,"background":true,"line":6,"prefix":"Given","docString":"function(actionName) {\n  var dbUtils = Java.type('utils.DbUtils');\n  var payload = new dbUtils();\n  return payload.getPayload(actionName);\n}","index":1,"text":"def payload ="}},{"result":{"nanos":30192124647,"errorMessage":">>>> js failed:\n01: function(actionName) {\n02:   var dbUtils = Java.type('utils.DbUtils');\n03:   var payload = new dbUtils();\n04:   return payload.getPayload(actionName);\n05: }\n<<<<\norg.graalvm.polyglot.PolyglotException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=api-test-db:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: api-test-db}, caused by {java.net.UnknownHostException: api-test-db}}]\n- com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:182)\n- com.mongodb.internal.connection.SingleServerCluster.getDescription(SingleServerCluster.java:41)\n- com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:150)\n- com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:102)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:282)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:186)\n- com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:211)\n\nsrc\/test\/java\/news\/checkContentCrud.feature:15","millis":30192.124647,"status":"failed"},"step":{"background":true,"line":15,"prefix":"Given","index":2,"text":"def addBasicContentPayload = call payload 'add-basic-content'"},"stepLog":"11:10:32.803 src\/test\/java\/news\/checkContentCrud.feature:15\nGiven def addBasicContentPayload = call payload 'add-basic-content'\n>>>> js failed:\n01: function(actionName) {\n02:   var dbUtils = Java.type('utils.DbUtils');\n03:   var payload = new dbUtils();\n04:   return payload.getPayload(actionName);\n05: }\n<<<<\norg.graalvm.polyglot.PolyglotException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=api-test-db:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: api-test-db}, caused by {java.net.UnknownHostException: api-test-db}}]\n- com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:182)\n- com.mongodb.internal.connection.SingleServerCluster.getDescription(SingleServerCluster.java:41)\n- com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:150)\n- com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:102)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:282)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:186)\n- com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:211)\n\nsrc\/test\/java\/news\/checkContentCrud.feature:15\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["##  Create Article"],"line":21,"prefix":"Given","index":0,"text":"def userInfo = call read('file:src\/test\/java\/helper\/get-user-info.feature')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"Given","index":1,"text":"url api_news_host + '\/api\/news'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"And","index":2,"text":"header authorization = 'Bearer ' + access_token"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"And","index":3,"text":"def articleName = 'article_title_api_test' + currentTimeStamp()"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":25,"prefix":"And","index":4,"text":"set createArticlePayload.title = articleName"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"Given","index":5,"text":"request createArticlePayload"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"When","index":6,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"Then","index":7,"text":"status 201"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"And","index":8,"text":"def articleId = response.newsId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#   Check Security Response Headers"],"line":33,"prefix":"*","index":9,"text":"json jsonHeaders = responseHeaders"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":34,"prefix":"*","index":10,"text":"def securityHeaders = call read('file:src\/test\/java\/helper\/security-headers.feature') { headers: '#(jsonHeaders)' }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#   Add Basic Content"],"line":38,"prefix":"Given","index":11,"text":"url api_news_host + '\/api\/news\/' + articleId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"Given","index":12,"text":"header authorization = 'Bearer ' + access_token"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"Given","index":13,"text":"request addBasicContentPayload"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"When","index":14,"text":"method put"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"Then","index":15,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#   Check Security Response Headers"],"line":46,"prefix":"*","index":16,"text":"json jsonHeaders = responseHeaders"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"*","index":17,"text":"def securityHeaders = call read('file:src\/test\/java\/helper\/security-headers.feature') { headers: '#(jsonHeaders)' }"}}],"line":17,"description":"","durationMillis":30197.895923,"failed":true,"error":">>>> js failed:\n01: function(actionName) {\n02:   var dbUtils = Java.type('utils.DbUtils');\n03:   var payload = new dbUtils();\n04:   return payload.getPayload(actionName);\n05: }\n<<<<\norg.graalvm.polyglot.PolyglotException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=api-test-db:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: api-test-db}, caused by {java.net.UnknownHostException: api-test-db}}]\n- com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:182)\n- com.mongodb.internal.connection.SingleServerCluster.getDescription(SingleServerCluster.java:41)\n- com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:150)\n- com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:102)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:282)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:186)\n- com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:211)\n\nsrc\/test\/java\/news\/checkContentCrud.feature:15","executorName":"main","name":"1. Create Article, 2. Add Sports 3. Edit Sports, 4. Delete Sports, 5. Delete Created Article","startTime":1623049801526,"refId":"[1:17]","endTime":1623049832803,"exampleIndex":-1}],"callDepth":0,"name":"Check Content Functionality","description":"","resultDate":"2021-06-07 11:10:32 AM","durationMillis":30197.895923,"passedCount":0}