{"failedCount":1,"prefixedPath":"src\/test\/java\/news\/checkGames.feature","packageQualifiedName":"src.test.java.news.checkGames","loopIndex":-1,"relativePath":"src\/test\/java\/news\/checkGames.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":910830,"millis":0.91083,"status":"passed"},"step":{"background":true,"line":5,"prefix":"Given","index":0,"text":"def currentTimeStamp = function() { return java.lang.System.currentTimeMillis() + '' }"}},{"result":{"nanos":713589,"millis":0.713589,"status":"passed"},"step":{"endLine":13,"background":true,"line":6,"prefix":"Given","docString":"function(actionName) {\n  var dbUtils = Java.type('utils.DbUtils');\n  var payload = new dbUtils();\n  return payload.getPayload(actionName);\n}","index":1,"text":"def payload ="}},{"result":{"nanos":30005656481,"errorMessage":">>>> js failed:\n01: function(actionName) {\n02:   var dbUtils = Java.type('utils.DbUtils');\n03:   var payload = new dbUtils();\n04:   return payload.getPayload(actionName);\n05: }\n<<<<\norg.graalvm.polyglot.PolyglotException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=api-test-db:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: api-test-db}, caused by {java.net.UnknownHostException: api-test-db}}]\n- com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:182)\n- com.mongodb.internal.connection.SingleServerCluster.getDescription(SingleServerCluster.java:41)\n- com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:150)\n- com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:102)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:282)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:186)\n- com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:211)\n\nsrc\/test\/java\/news\/checkGames.feature:15","millis":30005.656481,"status":"failed"},"step":{"background":true,"line":15,"prefix":"Given","index":2,"text":"def createArticlePayload = call payload 'create-article'"},"stepLog":"10:50:47.746 src\/test\/java\/news\/checkGames.feature:15\nGiven def createArticlePayload = call payload 'create-article'\n>>>> js failed:\n01: function(actionName) {\n02:   var dbUtils = Java.type('utils.DbUtils');\n03:   var payload = new dbUtils();\n04:   return payload.getPayload(actionName);\n05: }\n<<<<\norg.graalvm.polyglot.PolyglotException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=api-test-db:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: api-test-db}, caused by {java.net.UnknownHostException: api-test-db}}]\n- com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:182)\n- com.mongodb.internal.connection.SingleServerCluster.getDescription(SingleServerCluster.java:41)\n- com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:150)\n- com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:102)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:282)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:186)\n- com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:211)\n\nsrc\/test\/java\/news\/checkGames.feature:15\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":16,"prefix":"Given","index":3,"text":"def addGamesPayload = call payload 'add-games'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":17,"prefix":"Given","index":4,"text":"def editGamesPayload = call payload 'edit-games'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":18,"prefix":"Given","index":5,"text":"def emptyGamesPayload = call payload 'empty-tags'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["##  Create Article"],"line":25,"prefix":"Given","index":0,"text":"def userInfo = call read('file:src\/test\/java\/helper\/get-user-info.feature')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"Given","index":1,"text":"url api_news_host + '\/api\/news'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":2,"text":"header authorization = 'Bearer ' + access_token"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":3,"text":"def articleName = 'article_title_api_test' + currentTimeStamp()"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"And","index":4,"text":"set createArticlePayload.title = articleName"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"Given","index":5,"text":"request createArticlePayload"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"When","index":6,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":32,"prefix":"Then","index":7,"text":"status 201"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":33,"prefix":"And","index":8,"text":"def articleId = response.newsId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#   Check Security Response Headers"],"line":37,"prefix":"*","index":9,"text":"json jsonHeaders = responseHeaders"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"*","index":10,"text":"def securityHeaders = call read('file:src\/test\/java\/helper\/security-headers.feature') { headers: '#(jsonHeaders)' }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["## Add Games"],"line":42,"prefix":"Given","index":11,"text":"url api_news_host + '\/api\/news\/' + articleId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"Given","index":12,"text":"header authorization = 'Bearer ' + access_token"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"Given","index":13,"text":"request addGamesPayload"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"When","index":14,"text":"method put"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"Then","index":15,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#   Check Security Response Headers"],"line":50,"prefix":"*","index":16,"text":"json jsonHeaders = responseHeaders"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"*","index":17,"text":"def securityHeaders = call read('file:src\/test\/java\/helper\/security-headers.feature') { headers: '#(jsonHeaders)' }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["## Assert Key Types"],"line":55,"prefix":"Then","index":18,"text":"match response.tags[0].images.default.filePath == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"Then","index":19,"text":"match response.tags[0].channel == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":20,"text":"match response.tags[0].name == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"Then","index":21,"text":"match response.tags[0].shortName == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"Then","index":22,"text":"match response.tags[0].resourceId == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"Then","index":23,"text":"match response.tags[0].gameId == '#number'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":61,"prefix":"Then","index":24,"text":"match response.tags[0].type == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":63,"prefix":"Then","index":25,"text":"match response.tags[1].images.default.filePath == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":64,"prefix":"Then","index":26,"text":"match response.tags[1].channel == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":65,"prefix":"Then","index":27,"text":"match response.tags[1].name == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":66,"prefix":"Then","index":28,"text":"match response.tags[1].shortName == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":67,"prefix":"Then","index":29,"text":"match response.tags[1].resourceId == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":68,"prefix":"Then","index":30,"text":"match response.tags[1].gameId == '#number'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":69,"prefix":"Then","index":31,"text":"match response.tags[1].type == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["## Assert Key Values"],"line":73,"prefix":"Then","index":32,"text":"match response.tags[0].images.default.filePath == 'static\/imgs\/games\/dota2\/dota2-40px.jpg'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":74,"prefix":"Then","index":33,"text":"match response.tags[0].channel == 'wingg'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":75,"prefix":"Then","index":34,"text":"match response.tags[0].name == 'Dota 2'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":76,"prefix":"Then","index":35,"text":"match response.tags[0].shortName == 'Dota 2'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":77,"prefix":"Then","index":36,"text":"match response.tags[0].resourceId == '1'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":78,"prefix":"Then","index":37,"text":"match response.tags[0].gameId == 1"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":79,"prefix":"Then","index":38,"text":"match response.tags[0].type == 'game'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":81,"prefix":"Then","index":39,"text":"match response.tags[1].images.default.filePath == 'static\/imgs\/games\/cs\/csgo-40px.jpg'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":82,"prefix":"Then","index":40,"text":"match response.tags[1].channel == 'wingg'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":83,"prefix":"Then","index":41,"text":"match response.tags[1].name == 'CS:GO'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":84,"prefix":"Then","index":42,"text":"match response.tags[1].shortName == 'CS:GO'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"Then","index":43,"text":"match response.tags[1].resourceId == '5'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":86,"prefix":"Then","index":44,"text":"match response.tags[1].gameId == 5"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"Then","index":45,"text":"match response.tags[1].type == 'game'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["## Edit Games"],"line":91,"prefix":"Given","index":46,"text":"url api_news_host + '\/api\/news\/' + articleId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":92,"prefix":"Given","index":47,"text":"header authorization = 'Bearer ' + access_token"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":93,"prefix":"Given","index":48,"text":"request editGamesPayload"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":94,"prefix":"When","index":49,"text":"method put"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":95,"prefix":"Then","index":50,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#   Check Security Response Headers"],"line":99,"prefix":"*","index":51,"text":"json jsonHeaders = responseHeaders"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":100,"prefix":"*","index":52,"text":"def securityHeaders = call read('file:src\/test\/java\/helper\/security-headers.feature') { headers: '#(jsonHeaders)' }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["## Assert Key Types"],"line":104,"prefix":"Then","index":53,"text":"match response.tags[0].images.default.filePath == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":105,"prefix":"Then","index":54,"text":"match response.tags[0].channel == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":106,"prefix":"Then","index":55,"text":"match response.tags[0].name == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":107,"prefix":"Then","index":56,"text":"match response.tags[0].shortName == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":108,"prefix":"Then","index":57,"text":"match response.tags[0].resourceId == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":109,"prefix":"Then","index":58,"text":"match response.tags[0].gameId == '#number'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":110,"prefix":"Then","index":59,"text":"match response.tags[0].type == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":112,"prefix":"Then","index":60,"text":"match response.tags[1].images.default.filePath == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":113,"prefix":"Then","index":61,"text":"match response.tags[1].channel == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":114,"prefix":"Then","index":62,"text":"match response.tags[1].name == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":115,"prefix":"Then","index":63,"text":"match response.tags[1].shortName == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":116,"prefix":"Then","index":64,"text":"match response.tags[1].resourceId == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":117,"prefix":"Then","index":65,"text":"match response.tags[1].gameId == '#number'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":118,"prefix":"Then","index":66,"text":"match response.tags[1].type == '#string'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["## Assert Key Values"],"line":122,"prefix":"Then","index":67,"text":"match response.tags[0].images.default.filePath == 'static\/imgs\/games\/valorant\/valorant-40px.jpg'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":123,"prefix":"Then","index":68,"text":"match response.tags[0].channel == 'wingg'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":124,"prefix":"Then","index":69,"text":"match response.tags[0].name == 'Valorant'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":125,"prefix":"Then","index":70,"text":"match response.tags[0].shortName == 'Valorant'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":126,"prefix":"Then","index":71,"text":"match response.tags[0].resourceId == '103'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":127,"prefix":"Then","index":72,"text":"match response.tags[0].gameId == 103"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":128,"prefix":"Then","index":73,"text":"match response.tags[0].type == 'game'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":130,"prefix":"Then","index":74,"text":"match response.tags[1].images.default.filePath == 'static\/imgs\/games\/lol\/lol-40px.jpg'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":131,"prefix":"Then","index":75,"text":"match response.tags[1].channel == 'wingg'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":132,"prefix":"Then","index":76,"text":"match response.tags[1].name == 'LoL'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":133,"prefix":"Then","index":77,"text":"match response.tags[1].shortName == 'LoL'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":134,"prefix":"Then","index":78,"text":"match response.tags[1].resourceId == '2'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":135,"prefix":"Then","index":79,"text":"match response.tags[1].gameId == 2.0"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":136,"prefix":"Then","index":80,"text":"match response.tags[1].type == 'game'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["##  Delete Games"],"line":140,"prefix":"Given","index":81,"text":"url api_news_host + '\/api\/news\/' + articleId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":141,"prefix":"Given","index":82,"text":"header authorization = 'Bearer ' + access_token"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":142,"prefix":"Given","index":83,"text":"request emptyGamesPayload"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":143,"prefix":"When","index":84,"text":"method put"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":144,"prefix":"Then","index":85,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#   Check Security Response Headers"],"line":148,"prefix":"*","index":86,"text":"json jsonHeaders = responseHeaders"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":149,"prefix":"*","index":87,"text":"def securityHeaders = call read('file:src\/test\/java\/helper\/security-headers.feature') { headers: '#(jsonHeaders)' }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#   Assert Key Type"],"line":153,"prefix":"Then","index":88,"text":"match response.tags == '#[0]'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#   Assert Key Value"],"line":157,"prefix":"Then","index":89,"text":"match response.tags == []"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["##  Delete Created Article"],"line":162,"prefix":"Given","index":90,"text":"def id = {id: '#(articleId)'}"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":163,"prefix":"Given","index":91,"text":"def deleteArticle = call read('file:src\/test\/java\/helper\/delete-news.feature') id"}}],"line":21,"description":"","durationMillis":30007.2809,"failed":true,"error":">>>> js failed:\n01: function(actionName) {\n02:   var dbUtils = Java.type('utils.DbUtils');\n03:   var payload = new dbUtils();\n04:   return payload.getPayload(actionName);\n05: }\n<<<<\norg.graalvm.polyglot.PolyglotException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=api-test-db:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: api-test-db}, caused by {java.net.UnknownHostException: api-test-db}}]\n- com.mongodb.internal.connection.BaseCluster.getDescription(BaseCluster.java:182)\n- com.mongodb.internal.connection.SingleServerCluster.getDescription(SingleServerCluster.java:41)\n- com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:150)\n- com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:102)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:282)\n- com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:186)\n- com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:211)\n\nsrc\/test\/java\/news\/checkGames.feature:15","executorName":"main","name":"1. Create Article, 2. Add Games, 3. Edit Games, 4. Delete Games, 5. Delete Created Article","startTime":1623394217728,"refId":"[1:21]","endTime":1623394247747,"exampleIndex":-1}],"callDepth":0,"name":"Check Games Functionality","description":"","resultDate":"2021-06-11 10:50:47 AM","durationMillis":30007.2809,"passedCount":0}